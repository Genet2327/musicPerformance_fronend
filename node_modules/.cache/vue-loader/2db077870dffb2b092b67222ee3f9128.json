{"remainingRequest":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\src\\components\\MenuBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\src\\components\\MenuBar.vue","mtime":1673842058583},{"path":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673823877318},{"path":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\node_modules\\babel-loader\\lib\\index.js","mtime":1673823876031},{"path":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673823877318},{"path":"C:\\xampp\\htdocs\\Spring2023\\musicPerformance_fronend\\node_modules\\vue-loader\\lib\\index.js","mtime":1673823918021}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVXRpbHMgZnJvbSAiQC9jb25maWcvdXRpbHMuanMiOw0KaW1wb3J0IEF1dGhTZXJ2aWNlcyBmcm9tICJAL3NlcnZpY2VzL2F1dGhTZXJ2aWNlcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFwcCIsDQogIGRhdGE6ICgpID0+ICh7DQogICAgdXNlcjoge30sDQogICAgdGl0bGU6ICJNdXNpYyBQZWZvcm1hbmNlIiwNCiAgICBpbml0aWFsczogIiIsDQogICAgbmFtZTogIiIsDQogIH0pLA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIHRoaXMucmVzZXRNZW51KCk7DQogIH0sDQogIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgdGhpcy5yZXNldE1lbnUoKTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvLyBfbGluaygpIHsNCiAgICAvLyAgICAgcmV0dXJuICIvIiArIHRoaXMuc2VsZWN0ZWRSb2xlcy50b0xvd2VyQ2FzZSgpICsgIkhvbWUvIiArIHRoaXMuY3VycmVudFBlcnNvblJvbGVJRDsNCiAgICAvLyB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXNldE1lbnUoKSB7DQogICAgICB0aGlzLnVzZXIgPSBudWxsOw0KICAgICAgLy8gZW5zdXJlcyB0aGF0IHRoZWlyIG5hbWUgZ2V0cyBzZXQgcHJvcGVybHkgZnJvbSBzdG9yZQ0KICAgICAgdGhpcy51c2VyID0gVXRpbHMuZ2V0U3RvcmUoInVzZXIiKTsNCiAgICAgIGlmICh0aGlzLnVzZXIgIT0gbnVsbCkgew0KICAgICAgICB0aGlzLmluaXRpYWxzID0gdGhpcy51c2VyLmZOYW1lWzBdICsgdGhpcy51c2VyLmxOYW1lWzBdOw0KICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnVzZXIuZk5hbWUgKyAiICIgKyB0aGlzLnVzZXIubE5hbWU7DQogICAgICB9DQogICAgfSwNCiAgICBsb2dvdXQoKSB7DQogICAgICBBdXRoU2VydmljZXMubG9nb3V0VXNlcih0aGlzLnVzZXIpDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICBVdGlscy5yZW1vdmVJdGVtKCJ1c2VyIik7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibG9naW4iIH0pOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIiwgZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["MenuBar.vue"],"names":[],"mappings":";AA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MenuBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <v-app-bar app>\r\n      <v-toolbar-side-icon></v-toolbar-side-icon>\r\n      <router-link :to=\"{ name: 'Music Perfomanse' }\">\r\n        <v-img\r\n          class=\"mx-2\"\r\n          src=\"../assets/oc-logo-white.png\"\r\n          max-height=\"50\"\r\n          max-width=\"50\"\r\n          contain\r\n        ></v-img>\r\n      </router-link>\r\n      <v-toolbar-title class=\"title\">\r\n        <div>{{ this.title }}</div>\r\n      </v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-items v-if=\"user != 'null'\">\r\n        <v-btn\r\n          v-show=\"user.role == 'Stu'\"\r\n          exact\r\n          :to=\"{ name: 'RoleList' }\"\r\n          text\r\n        >\r\n          Roles\r\n        </v-btn>\r\n      </v-toolbar-items>\r\n      <v-menu bottom min-width=\"200px\" rounded offset-y v-if=\"user != null\">\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn icon x-large v-on=\"on\" v-bind=\"attrs\">\r\n            <v-avatar v-if=\"user != null\" color=\"secondary\">\r\n              <span class=\"accent--text font-weight-bold\">{{ initials }}</span>\r\n            </v-avatar>\r\n          </v-btn>\r\n        </template>\r\n        <v-card>\r\n          <v-list-item-content class=\"justify-center\">\r\n            <div class=\"mx-auto text-center\">\r\n              <v-avatar color=\"secondary\" class=\"mt-2 mb-2\">\r\n                <span class=\"accent--text font-weight-bold\">{{\r\n                  initials\r\n                }}</span>\r\n              </v-avatar>\r\n              <h3>{{ name }}</h3>\r\n              <p class=\"text-caption mt-1\">\r\n                {{ user.email }}\r\n              </p>\r\n              <v-divider class=\"my-3\"></v-divider>\r\n              <v-btn depressed rounded text @click=\"logout()\"> Logout </v-btn>\r\n            </div>\r\n          </v-list-item-content>\r\n        </v-card>\r\n      </v-menu>\r\n    </v-app-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Utils from \"@/config/utils.js\";\r\nimport AuthServices from \"@/services/authServices\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  data: () => ({\r\n    user: {},\r\n    title: \"Music Peformance\",\r\n    initials: \"\",\r\n    name: \"\",\r\n  }),\r\n  async created() {\r\n    this.resetMenu();\r\n  },\r\n  async mounted() {\r\n    this.resetMenu();\r\n  },\r\n  computed: {\r\n    // _link() {\r\n    //     return \"/\" + this.selectedRoles.toLowerCase() + \"Home/\" + this.currentPersonRoleID;\r\n    // }\r\n  },\r\n  methods: {\r\n    resetMenu() {\r\n      this.user = null;\r\n      // ensures that their name gets set properly from store\r\n      this.user = Utils.getStore(\"user\");\r\n      if (this.user != null) {\r\n        this.initials = this.user.fName[0] + this.user.lName[0];\r\n        this.name = this.user.fName + \" \" + this.user.lName;\r\n      }\r\n    },\r\n    logout() {\r\n      AuthServices.logoutUser(this.user)\r\n        .then((response) => {\r\n          console.log(response);\r\n          Utils.removeItem(\"user\");\r\n          this.$router.push({ name: \"login\" });\r\n          this.$router.go();\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}