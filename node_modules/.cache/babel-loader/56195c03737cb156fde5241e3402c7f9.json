{"remainingRequest":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\src\\components\\MenuBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\src\\components\\MenuBar.vue","mtime":1680415982150},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\babel.config.js","mtime":1680235446185},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680235452361},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\babel-loader\\lib\\index.js","mtime":1680235451792},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680235452361},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\vue-loader\\lib\\index.js","mtime":1680235471293}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBVdGlscyBmcm9tICJAL2NvbmZpZy91dGlscy5qcyI7CmltcG9ydCBBdXRoU2VydmljZXMgZnJvbSAiQC9zZXJ2aWNlcy9hdXRoU2VydmljZXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcCIsCiAgZGF0YTogKCkgPT4gKHsKICAgIHVzZXI6IHt9LAogICAgdGl0bGU6ICJNdXNpYyBQZWZvcm1hbmNlIiwKICAgIGluaXRpYWxzOiAiIiwKICAgIG5hbWU6ICIiLAogICAgZW1haWw6ICIiLAogICAgcm9sZTogJycKICB9KSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMucmVzZXRNZW51KCk7CiAgfSwKCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMucmVzZXRNZW51KCk7CiAgfSwKCiAgY29tcHV0ZWQ6IHsvLyBfbGluaygpIHsKICAgIC8vICAgICByZXR1cm4gIi8iICsgdGhpcy5zZWxlY3RlZFJvbGVzLnRvTG93ZXJDYXNlKCkgKyAiSG9tZS8iICsgdGhpcy5jdXJyZW50UGVyc29uUm9sZUlEOwogICAgLy8gfQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRNZW51KCkgewogICAgICB0aGlzLnVzZXIgPSBudWxsOyAvLyBlbnN1cmVzIHRoYXQgdGhlaXIgbmFtZSBnZXRzIHNldCBwcm9wZXJseSBmcm9tIHN0b3JlCgogICAgICB0aGlzLnVzZXIgPSBVdGlscy5nZXRTdG9yZSgidXNlciIpOwoKICAgICAgaWYgKHRoaXMudXNlciAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5pbml0aWFscyA9IHRoaXMudXNlci5mTmFtZVswXSArIHRoaXMudXNlci5sTmFtZVswXTsKICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnVzZXIuZk5hbWUgKyAiICIgKyB0aGlzLnVzZXIubE5hbWU7CiAgICAgICAgdGhpcy5lbWFpbCA9IHRoaXMudXNlci5lbWFpbDsKICAgICAgICB0aGlzLnJvbGUgPSB0aGlzLnVzZXIucm9sZVswXTsKICAgICAgfQogICAgfSwKCiAgICBsb2dvdXQoKSB7CiAgICAgIEF1dGhTZXJ2aWNlcy5sb2dvdXRVc2VyKHRoaXMudXNlcikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIFV0aWxzLnJlbW92ZUl0ZW0oInVzZXIiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiZXJyb3IiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";AA+EA;AACA;AAEA;EACAA,WADA;EAEAC;IACAC,QADA;IAEAC,yBAFA;IAGAC,YAHA;IAIAJ,QAJA;IAKAK,SALA;IAMAC;EANA,EAFA;;EAUA;IACA;EACA,CAZA;;EAaA;IACA;EACA,CAfA;;EAgBAC,WACA;IACA;IACA;EAHA,CAhBA;EAqBAC;IACAC;MACA,iBADA,CAEA;;MACA;;MACA;QACA;QACA;QACA;QACA;MACA;IACA,CAXA;;IAYAC;MACAC,mCACAC,IADA,CACAC;QACAC;QACAC;QACA;UAAAf;QAAA;QACA;MACA,CANA,EAOAgB,KAPA,CAOAC;QACAH;MACA,CATA;IAUA;;EAvBA;AArBA","names":["name","data","user","title","initials","email","role","computed","methods","resetMenu","logout","AuthServices","then","response","console","Utils","catch","error"],"sourceRoot":"src/components","sources":["MenuBar.vue"],"sourcesContent":["<template>\r\n  <v-navigation-drawer darek=\"false\" color=\"red darken-4\" dark permanent expand-on-hover v-show=\"user != null\">\r\n    <v-list>\r\n      <v-list-item class=\"px-2\">\r\n        <v-list-item-avatar>\r\n          {{ initials }}\r\n        </v-list-item-avatar>\r\n      </v-list-item>\r\n\r\n      <v-list-item link>\r\n        <v-list-item-content>\r\n          <v-list-item-title class=\"text-h6\">\r\n            {{ name }}\r\n          </v-list-item-title>\r\n          <v-list-item-subtitle>{{ email }}</v-list-item-subtitle>\r\n        </v-list-item-content>\r\n      </v-list-item>\r\n    </v-list>\r\n\r\n    <v-divider></v-divider>\r\n\r\n    <v-list nav dense>\r\n\r\n      <v-list-item v-show=\"role == 'ADMIN'\" link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-folder</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title> <v-btn exact :to=\"{ name: 'ComposerList' }\" text>Composer </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n      <v-list-item v-show=\"role == 'ADMIN'\" link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-account-multiple</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title> <v-btn exact :to=\"{ name: 'InstrumentList' }\" text>Instrument </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n      <v-list-item  link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-star</v-icon>\r\n        </v-list-item-icon>\r\n\r\n        <v-list-item-title><v-btn exact :to=\"{ name: 'RoleList' }\" text>Roles </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n      <v-list-item v-show=\"role == 'ADMIN'\" link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-star</v-icon>\r\n        </v-list-item-icon>\r\n\r\n        <v-list-item-title><v-btn exact :to=\"{ name: 'EventSessionList' }\" text>Event </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n      <v-list-item v-show=\"role == 'FACULITY'\" link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-folder</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title> <v-btn exact :to=\"{ name: 'AddCritique' }\" text>Critiques </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n\r\n      <v-list-item v-show=\"role == 'FACULITY'\" link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-folder</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title> <v-btn exact :to=\"{ name: 'PassOrFail' }\" text>PassOrFail </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n\r\n      <v-list-item link>\r\n        <v-list-item-icon>\r\n          <v-icon>mdi-folder</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title> <v-btn exact :to=\"{ name: 'AddSong' }\" text>Song </v-btn></v-list-item-title>\r\n      </v-list-item>\r\n      <v-list-item link>\r\n        <v-list-item-icon>\r\n          <v-icon @click=\"logout()\">logout</v-icon>\r\n        </v-list-item-icon>\r\n        <v-list-item-title>Sign Out</v-list-item-title>\r\n      </v-list-item>\r\n    </v-list>\r\n  </v-navigation-drawer>\r\n</template>\r\n<script>\r\nimport Utils from \"@/config/utils.js\";\r\nimport AuthServices from \"@/services/authServices\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  data: () => ({\r\n    user: {},\r\n    title: \"Music Peformance\",\r\n    initials: \"\",\r\n    name: \"\",\r\n    email: \"\",\r\n    role: '',\r\n  }),\r\n  async created() {\r\n    this.resetMenu();\r\n  },\r\n  async mounted() {\r\n    this.resetMenu();\r\n  },\r\n  computed: {\r\n    // _link() {\r\n    //     return \"/\" + this.selectedRoles.toLowerCase() + \"Home/\" + this.currentPersonRoleID;\r\n    // }\r\n  },\r\n  methods: {\r\n    resetMenu() {\r\n      this.user = null;\r\n      // ensures that their name gets set properly from store\r\n      this.user = Utils.getStore(\"user\");\r\n      if (this.user != null) {\r\n        this.initials = this.user.fName[0] + this.user.lName[0];\r\n        this.name = this.user.fName + \" \" + this.user.lName;\r\n        this.email = this.user.email;\r\n        this.role = this.user.role[0];\r\n      }\r\n    },\r\n    logout() {\r\n      AuthServices.logoutUser(this.user)\r\n        .then((response) => {\r\n          console.log(response);\r\n          Utils.removeItem(\"user\");\r\n          this.$router.push({ name: \"login\" });\r\n          this.$router.go();\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n"]}]}