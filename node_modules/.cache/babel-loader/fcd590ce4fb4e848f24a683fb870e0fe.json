{"remainingRequest":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\src\\services\\services.js","dependencies":[{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\src\\services\\services.js","mtime":1680235504064},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\babel.config.js","mtime":1680235446185},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680235452361},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\babel-loader\\lib\\index.js","mtime":1680235451792},{"path":"C:\\xampp\\htdocs\\musicDepartment\\musicPerformance_fronend\\node_modules\\eslint-loader\\index.js","mtime":1680235458098}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBVdGlscyBmcm9tICJAL2NvbmZpZy91dGlscy5qcyI7CmltcG9ydCBBdXRoU2VydmljZXMgZnJvbSAiLi9hdXRoU2VydmljZXMuanMiOwppbXBvcnQgUm91dGVyIGZyb20gIi4uL3JvdXRlci5qcyI7CnZhciBiYXNldXJsID0gIiI7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICJkZXZlbG9wbWVudCIpIHsKICBiYXNldXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6MzAyNi9wZXJmb3JtYW5jZS10Ni8iOwp9IGVsc2UgewogIGJhc2V1cmwgPSAiL3BlcmZvcm1hbmNlLXQ2LyI7Cn0KCmNvbnN0IGFwaUNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZXVybCwKICBoZWFkZXJzOiB7CiAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAiWC1SZXF1ZXN0ZWQtV2l0aCI6ICJYTUxIdHRwUmVxdWVzdCIsCiAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiLAogICAgY3Jvc3NEb21haW46IHRydWUKICB9LAogIHRyYW5zZm9ybVJlcXVlc3Q6IChkYXRhLCBoZWFkZXJzKSA9PiB7CiAgICBsZXQgdXNlciA9IFV0aWxzLmdldFN0b3JlKCJ1c2VyIik7CgogICAgaWYgKHVzZXIgIT0gbnVsbCkgewogICAgICBsZXQgdG9rZW4gPSB1c2VyLnRva2VuOwogICAgICBsZXQgYXV0aEhlYWRlciA9ICIiOwogICAgICBpZiAodG9rZW4gIT0gbnVsbCAmJiB0b2tlbiAhPSAiIikgYXV0aEhlYWRlciA9ICJCZWFyZXIgIiArIHRva2VuOwogICAgICBoZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gYXV0aEhlYWRlcjsKICAgIH0KCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgfSwKICB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOyAvLyBpZiAoIWRhdGEuc3VjY2VzcyAmJiBkYXRhLmNvZGUgPT0gImV4cGlyZWQtc2Vzc2lvbiIpIHsKICAgIC8vICAgbG9jYWxTdG9yYWdlLmRlbGV0ZUl0ZW0oInVzZXIiKTsKICAgIC8vIH0KCiAgICBpZiAoZGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiYgZGF0YS5tZXNzYWdlLmluY2x1ZGVzKCJVbmF1dGhvcml6ZWQiKSkgewogICAgICBBdXRoU2VydmljZXMubG9nb3V0VXNlcihVdGlscy5nZXRTdG9yZSgidXNlciIpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgVXRpbHMucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICAgIFJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJsb2dpbiIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciIsIGVycm9yKTsKICAgICAgfSk7IC8vIFV0aWxzLnJlbW92ZUl0ZW0oInVzZXIiKQogICAgfSAvLyBjb25zb2xlLmxvZyhVdGlscy5nZXRTdG9yZSgidXNlciIpKQoKCiAgICByZXR1cm4gZGF0YTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBhcGlDbGllbnQ7"},{"version":3,"names":["axios","Utils","AuthServices","Router","baseurl","process","env","NODE_ENV","apiClient","create","baseURL","headers","Accept","crossDomain","transformRequest","data","user","getStore","token","authHeader","common","JSON","stringify","transformResponse","parse","message","undefined","includes","logoutUser","then","response","console","log","removeItem","push","name","catch","error"],"sources":["C:/xampp/htdocs/musicDepartment/musicPerformance_fronend/src/services/services.js"],"sourcesContent":["import axios from \"axios\";\r\nimport Utils from \"@/config/utils.js\";\r\nimport AuthServices from \"./authServices.js\";\r\nimport Router from \"../router.js\";\r\n\r\nvar baseurl = \"\";\r\nif (process.env.NODE_ENV === \"development\") {\r\n  baseurl = \"http://localhost:3026/performance-t6/\";\r\n} else {\r\n  baseurl = \"/performance-t6/\";\r\n}\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: baseurl,\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n    \"X-Requested-With\": \"XMLHttpRequest\",\r\n    \"Access-Control-Allow-Origin\": \"*\",\r\n    crossDomain: true,\r\n  },\r\n  transformRequest: (data, headers) => {\r\n    let user = Utils.getStore(\"user\");\r\n    if (user != null) {\r\n      let token = user.token;\r\n      let authHeader = \"\";\r\n      if (token != null && token != \"\") authHeader = \"Bearer \" + token;\r\n      headers.common[\"Authorization\"] = authHeader;\r\n    }\r\n    return JSON.stringify(data);\r\n  },\r\n  transformResponse: function (data) {\r\n    data = JSON.parse(data);\r\n    // if (!data.success && data.code == \"expired-session\") {\r\n    //   localStorage.deleteItem(\"user\");\r\n    // }\r\n    if (data.message !== undefined && data.message.includes(\"Unauthorized\")) {\r\n      AuthServices.logoutUser(Utils.getStore(\"user\"))\r\n        .then((response) => {\r\n          console.log(response);\r\n          Utils.removeItem(\"user\");\r\n          Router.push({ name: \"login\" });\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n      // Utils.removeItem(\"user\")\r\n    }\r\n    // console.log(Utils.getStore(\"user\"))\r\n    return data;\r\n  },\r\n});\r\n\r\nexport default apiClient;\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,IAAIC,OAAO,GAAG,EAAd;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;EAC1CH,OAAO,GAAG,uCAAV;AACD,CAFD,MAEO;EACLA,OAAO,GAAG,kBAAV;AACD;;AAED,MAAMI,SAAS,GAAGR,KAAK,CAACS,MAAN,CAAa;EAC7BC,OAAO,EAAEN,OADoB;EAE7BO,OAAO,EAAE;IACPC,MAAM,EAAE,kBADD;IAEP,gBAAgB,kBAFT;IAGP,oBAAoB,gBAHb;IAIP,+BAA+B,GAJxB;IAKPC,WAAW,EAAE;EALN,CAFoB;EAS7BC,gBAAgB,EAAE,CAACC,IAAD,EAAOJ,OAAP,KAAmB;IACnC,IAAIK,IAAI,GAAGf,KAAK,CAACgB,QAAN,CAAe,MAAf,CAAX;;IACA,IAAID,IAAI,IAAI,IAAZ,EAAkB;MAChB,IAAIE,KAAK,GAAGF,IAAI,CAACE,KAAjB;MACA,IAAIC,UAAU,GAAG,EAAjB;MACA,IAAID,KAAK,IAAI,IAAT,IAAiBA,KAAK,IAAI,EAA9B,EAAkCC,UAAU,GAAG,YAAYD,KAAzB;MAClCP,OAAO,CAACS,MAAR,CAAe,eAAf,IAAkCD,UAAlC;IACD;;IACD,OAAOE,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAP;EACD,CAlB4B;EAmB7BQ,iBAAiB,EAAE,UAAUR,IAAV,EAAgB;IACjCA,IAAI,GAAGM,IAAI,CAACG,KAAL,CAAWT,IAAX,CAAP,CADiC,CAEjC;IACA;IACA;;IACA,IAAIA,IAAI,CAACU,OAAL,KAAiBC,SAAjB,IAA8BX,IAAI,CAACU,OAAL,CAAaE,QAAb,CAAsB,cAAtB,CAAlC,EAAyE;MACvEzB,YAAY,CAAC0B,UAAb,CAAwB3B,KAAK,CAACgB,QAAN,CAAe,MAAf,CAAxB,EACGY,IADH,CACSC,QAAD,IAAc;QAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QACA7B,KAAK,CAACgC,UAAN,CAAiB,MAAjB;QACA9B,MAAM,CAAC+B,IAAP,CAAY;UAAEC,IAAI,EAAE;QAAR,CAAZ;MACD,CALH,EAMGC,KANH,CAMUC,KAAD,IAAW;QAChBN,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBK,KAArB;MACD,CARH,EADuE,CAUvE;IACD,CAhBgC,CAiBjC;;;IACA,OAAOtB,IAAP;EACD;AAtC4B,CAAb,CAAlB;AAyCA,eAAeP,SAAf"}]}